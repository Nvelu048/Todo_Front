(this["webpackJsonptodo-app"]=this["webpackJsonptodo-app"]||[]).push([[0],{23:function(e,t,a){e.exports=a(65)},28:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(7),o=a.n(l),i=(a(28),a(3)),c=a.n(i),s=a(4),u=a(1),d=a(21),m=a.n(d),p=a(22),v=a(41),f=function e(){Object(p.a)(this,e),this.instance=v.create({}),this.instance=v.create({baseURL:""})};f.sharedInstance=new f;var b=f;a(59),a(60);function E(e){return r.a.createElement("button",{style:{display:"flex",position:"fixed",width:50,height:50,borderRadius:25,background:"red",bottom:16,right:16,alignItems:"center",justifyContent:"center",userSelect:"none",border:0,outline:"none"},onClick:e.onClick},r.a.createElement("label",{style:{fontSize:30,color:"white",textAlign:"center"}},"+"))}a(61);function h(e){return r.a.createElement("div",{className:"container"},e.label?r.a.createElement("label",{htmlFor:e.id},e.label):r.a.createElement(n.Fragment,null),r.a.createElement("input",{type:e.type,id:e.value,value:e.value,onChange:e.onChange,onClick:e.onClick,onSubmit:e.onSubmit,required:e.required}))}a(62);function g(e){var t=e.optionData.map((function(e,t){return r.a.createElement("option",{key:t,value:e.value},e.name)}));return r.a.createElement("div",{className:"container"},r.a.createElement("label",{htmlFor:e.id},e.label),r.a.createElement("select",{name:e.label,id:e.id,value:e.optionData[e.selectedIndex].value,onChange:function(t){t.preventDefault();var a=e.optionData.map((function(e){return e.value})).indexOf(t.target.value);e.onSelect(a)}},t))}a(63);function D(e){return r.a.createElement("div",{className:"container"},r.a.createElement("label",{htmlFor:e.id},e.label),r.a.createElement("textarea",{id:e.id,onChange:e.onChange,required:e.required,value:e.value}))}D.defaultProps={required:!1};var y=[{value:"OTHER",name:"Other"},{value:"SHOPPING",name:"Shopping"},{value:"WORK",name:"Work"},{value:"PERSONAL",name:"Personal"}],O=[{value:"NEW",name:"New"},{value:"INPROGRESS",name:"Inprogress"},{value:"COMPLETED",name:"Completed"}],S=[{value:"LOW",name:"Low"},{value:"MEDIUM",name:"Medium"},{value:"HIGH",name:"High"}];function j(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e.map((function(e){return a?e.name:e.value})).indexOf(t)}function x(e){var t=Object(n.useState)(e.isEditMode?e.todoData.title:""),a=Object(u.a)(t,2),l=a[0],o=a[1],i=Object(n.useState)(e.isEditMode?e.todoData.description:""),c=Object(u.a)(i,2),s=c[0],d=c[1],m=Object(n.useState)(e.isEditMode?H(e.todoData.startDate):H()),p=Object(u.a)(m,2),v=p[0],f=p[1],b=Object(n.useState)(e.isEditMode?H(e.todoData.endDate):H()),E=Object(u.a)(b,2),x=E[0],w=E[1],C=Object(n.useState)(e.isEditMode?j(O,e.todoData.status,!0):0),k=Object(u.a)(C,2),I=k[0],N=k[1],T=Object(n.useState)(e.isEditMode?j(y,e.todoData.label,!0):0),M=Object(u.a)(T,2),P=M[0],q=M[1],R=Object(n.useState)(e.isEditMode?j(S,e.todoData.priority,!0):0),W=Object(u.a)(R,2),L=W[0],F=W[1];function H(e){var t=e?new Date(e):new Date,a=new Intl.DateTimeFormat("en",{year:"numeric",month:"2-digit",day:"2-digit"}).formatToParts(t),n=Object(u.a)(a,5),r=n[0].value,l=n[2].value,o=n[4].value;return"".concat(o,"-").concat(r,"-").concat(l)}return r.a.createElement("form",{style:{display:"flex",flexDirection:"column"},onSubmit:function(t){t.preventDefault();var a={title:l,description:s,status:O[I].value,startDate:new Date(v).getTime(),endDate:new Date(x).getTime(),label:y[P].value,priority:S[L].value};e.isEditMode?e.onUpdate(e.todoData._id,a):e.onSubmit(a)}},r.a.createElement(h,{type:"text",id:"title",label:"Title",value:l,onChange:function(e){e.preventDefault(),console.log(e),o(e.target.value)},required:!0}),r.a.createElement(D,{id:"description",label:"Description",value:s,onChange:function(e){e.preventDefault(),d(e.target.value)},required:!0}),r.a.createElement(g,{label:"Status",id:"status",selectedIndex:I,onSelect:function(e){return N(e)},optionData:O}),r.a.createElement(g,{label:"Priority",id:"priority",selectedIndex:L,onSelect:function(e){return F(e)},optionData:S}),r.a.createElement(g,{label:"Label",id:"label",selectedIndex:P,onSelect:function(e){return q(e)},optionData:y}),r.a.createElement(h,{type:"date",id:"startDate",label:"Start Date",value:v,onChange:function(e){e.preventDefault(),f(e.target.value)},required:!0}),r.a.createElement(h,{type:"date",id:"endDate",label:"End Date",value:x,onChange:function(e){e.preventDefault(),w(e.target.value)},required:!0}),r.a.createElement("div",{className:"saveResetContainer"},r.a.createElement(h,{type:"reset",value:"Clear",onClick:function(){return o(""),d(""),f(H()),w(H()),N(0),q(0),F(0),!0}}),r.a.createElement(h,{type:"button",value:"Cancel",onClick:e.onCancel}),r.a.createElement(h,{type:"submit",value:"Save"})))}var w=a(5);a(64);function C(e){return r.a.createElement("div",{className:"todoContainer"},r.a.createElement("label",{className:"title"},e.title),r.a.createElement("label",null,e.description),r.a.createElement("div",{className:"dateContainer"},r.a.createElement("label",null,r.a.createElement("span",{style:{fontWeight:"bold"}},r.a.createElement(w.a,null)),": ",new Date(e.startDate).toISOString().split("T")[0]," ",r.a.createElement("span",{style:{fontWeight:"bold"}},"~"),new Date(e.endDate).toISOString().split("T")[0])),r.a.createElement("div",{className:"todoDetails"},r.a.createElement("label",null,r.a.createElement("span",{className:"title"},"Status"),": ",e.status),r.a.createElement("label",null,r.a.createElement("span",{className:"title"},"Priority"),": ",e.priority),r.a.createElement("label",null,r.a.createElement("span",{className:"title"},"Label"),": ",e.label)),r.a.createElement("div",{className:"actionContainer"},r.a.createElement("div",{className:"btn",title:"Edit",onClick:e.onEdit},r.a.createElement(w.c,null)),r.a.createElement("div",{className:"btn",title:"Delete",onClick:e.onDelete},r.a.createElement(w.b,null))))}C.defaultProps={title:"Sample Todo",description:"Todo describing essentials of Todo",status:"New",priority:"Low",label:"Shopping",startDate:15878592e5,endDate:15878592e5};var k={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}};var I=function(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),a=t[0],l=t[1],o=Object(n.useState)([]),i=Object(u.a)(o,2),d=i[0],p=i[1],v=Object(n.useState)(!1),f=Object(u.a)(v,2),h=f[0],g=f[1],D=Object(n.useState)(),w=Object(u.a)(D,2),I=w[0],N=w[1];function T(){l(!1)}function M(){return(M=Object(s.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Will save todo"),e.prev=1,e.next=4,b.sharedInstance.instance.post("/saveTodo",t);case 4:return a=e.sent,console.log("Status of save",a),e.next=8,P();case 8:l(!1),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log("Error in saving : "+e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}function P(){return q.apply(this,arguments)}function q(){return(q=Object(s.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.sharedInstance.instance.get("/getTodos",{params:{userId:"nrajan066"}});case 3:(t=(t=(t=e.sent).data.data).map((function(e){var t=j(y,e.label);e.label=y[t].name;var a=j(S,e.priority);e.priority=S[a].name;var n=j(O,e.status);return e.status=O[n].name,e}))).length>0&&t.sort((function(e,t){return e.startDate-t.startDate})),p(t),console.log(t),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("Error occurred in fetching: ",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function R(){return(R=Object(s.a)(c.a.mark((function e(t){var a,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.sharedInstance.instance.delete("/deleteTodo",{params:{todoId:t}});case 3:a=e.sent,console.log(a),n=d.filter((function(e){return e._id!==t})),p(n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}Object(n.useEffect)((function(){function e(){return(e=Object(s.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.sharedInstance.instance.get("/getTodos",{params:{userId:"nrajan066"}});case 3:(t=(t=(t=e.sent).data.data).map((function(e){var t=j(y,e.label);e.label=y[t].name;var a=j(S,e.priority);e.priority=S[a].name;var n=j(O,e.status);return e.status=O[n].name,e}))).length>0&&t.sort((function(e,t){return t.startDate-e.startDate})),p(t),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("Error occurred in fetching: ",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var W=d.map((function(e){return r.a.createElement(C,Object.assign({},e,{key:e._id,onDelete:function(){return function(e){return R.apply(this,arguments)}(e._id)},onEdit:function(){g(!0),N(e),l(!0)}}))}));function L(){return(L=Object(s.a)(c.a.mark((function e(t,a){var n,r,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.sharedInstance.instance.post("/updateTodo",{todoId:t,updateObject:a});case 3:n=e.sent,r=d.map((function(e){return e._id})).indexOf(t),o=d,(n=n.data.data).label=y[j(y,n.label)].name,n.priority=S[j(S,n.priority)].name,n.status=O[j(O,n.status)].name,o[r]=n,p(o),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:l(!1);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}return r.a.createElement("div",{className:"App",style:{display:"flex",justifyContent:"center"}},r.a.createElement("div",{style:{display:"flex",flex:1,flexDirection:"column",alignItems:"center"}},W),r.a.createElement(E,{onClick:function(e){e.preventDefault(),l(!0)}}),r.a.createElement(m.a,{isOpen:a,onRequestClose:T,style:k},r.a.createElement(x,{onSubmit:function(e){return M.apply(this,arguments)},isEditMode:h,todoData:I,onUpdate:function(e,t){return L.apply(this,arguments)},onCancel:T})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(I,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[23,1,2]]]);
//# sourceMappingURL=main.7b72ea5b.chunk.js.map